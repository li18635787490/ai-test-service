# AI æ–‡æ¡£æ£€æµ‹ä¸æŠ¥å‘ŠæœåŠ¡ - å·¥ä½œåŸç†è¯¦è§£

## ğŸ“ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ Web UI (é™æ€é¡µé¢)                          â”‚
â”‚                    app/static/index.html + app.js                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ HTTP API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FastAPI åº”ç”¨ (main.py)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ documentsâ”‚ â”‚  check   â”‚ â”‚ reports  â”‚ â”‚    requirements      â”‚   â”‚
â”‚  â”‚  Router  â”‚ â”‚  Router  â”‚ â”‚  Router  â”‚ â”‚       Router         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æœåŠ¡å±‚ (Services)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ document_parserâ”‚  â”‚ check_service  â”‚  â”‚ requirement_analyzer â”‚   â”‚
â”‚  â”‚   (æ–‡æ¡£è§£æ)    â”‚  â”‚  (æ£€æµ‹æ ¸å¿ƒ)     â”‚  â”‚   (éœ€æ±‚åˆ†æ)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â”‚                   â”‚                       â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   ai_providers (AI ç»Ÿä¸€æ¥å£)                   â”‚   â”‚
â”‚  â”‚     æ”¯æŒ: OpenAI GPT-4 | Anthropic Claude | é€šä¹‰åƒé—®           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ API è°ƒç”¨
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   å¤–éƒ¨ AI æœåŠ¡     â”‚
                    â”‚ OpenAI/Claude/åƒé—® â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ æ ¸å¿ƒå·¥ä½œæµç¨‹

### 1ï¸âƒ£ æ–‡æ¡£ä¸Šä¼ æµç¨‹

```
ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ â†’ éªŒè¯æ ¼å¼ â†’ ç”Ÿæˆå”¯ä¸€ID â†’ ä¿å­˜åˆ° uploads/ â†’ è§£ææ–‡æ¡£è·å–é¡µæ•° â†’ è¿”å›æ–‡æ¡£ä¿¡æ¯
```

**å…³é”®ä»£ç **: `app/routers/documents.py`
- æ”¯æŒæ ¼å¼: PDF, DOCX, XLSX, PPTX, TXT, MD
- ç”Ÿæˆ UUID ä½œä¸ºæ–‡æ¡£å”¯ä¸€æ ‡è¯†
- æ–‡ä»¶å­˜å‚¨åœ¨ `uploads/` ç›®å½•

---

### 2ï¸âƒ£ æ–‡æ¡£æ£€æµ‹æµç¨‹ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¥æ”¶è¯·æ±‚    â”‚ â†’  â”‚ è§£ææ–‡æ¡£    â”‚ â†’  â”‚ åˆ›å»ºå¼‚æ­¥ä»»åŠ¡ â”‚ â†’  â”‚ è¿”å›ä»»åŠ¡ID  â”‚
â”‚ document_idâ”‚    â”‚ æå–æ–‡æœ¬    â”‚    â”‚ åå°å¤„ç†    â”‚    â”‚ å‰ç«¯è½®è¯¢   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚              å¼‚æ­¥æ£€æµ‹ä»»åŠ¡                    â”‚
                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
                  â”‚  â”‚ ç»´åº¦1   â”‚â†’ AIåˆ†æ â†’ è¯„åˆ† + é—®é¢˜åˆ—è¡¨        â”‚
                  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
                  â”‚  â”‚ ç»´åº¦2   â”‚â†’ AIåˆ†æ â†’ è¯„åˆ† + é—®é¢˜åˆ—è¡¨        â”‚
                  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
                  â”‚  â”‚ ç»´åº¦N   â”‚â†’ AIåˆ†æ â†’ è¯„åˆ† + é—®é¢˜åˆ—è¡¨        â”‚
                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
                  â”‚       â†“                                     â”‚
                  â”‚  ç”Ÿæˆæ•´ä½“æ€»ç»“ â†’ è®¡ç®—ç»¼åˆå¾—åˆ† â†’ æ›´æ–°ä»»åŠ¡çŠ¶æ€      â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ£€æµ‹ç»´åº¦**ï¼ˆ`app/models.py`ä¸­å®šä¹‰ï¼‰:

| ç»´åº¦ | æ ‡è¯† | AI åˆ†æå†…å®¹ |
|-----|------|------------|
| æ ¼å¼è§„èŒƒ | `format` | æ ‡é¢˜å±‚çº§ã€æ®µè½ç»“æ„ã€æ ‡ç‚¹ç¬¦å·ã€åˆ—è¡¨/è¡¨æ ¼æ ¼å¼ |
| å†…å®¹è´¨é‡ | `content` | é”™åˆ«å­—ã€è¯­ç—…ã€è¡¨è¿°æ¸…æ™°åº¦ã€ä¸“ä¸šæœ¯è¯­ä½¿ç”¨ |
| é€»è¾‘ä¸€è‡´æ€§ | `logic` | å‰åçŸ›ç›¾ã€å› æœå…³ç³»ã€æ•°æ®ä¸€è‡´æ€§ |
| æ•æ„Ÿä¿¡æ¯ | `sensitive` | èº«ä»½è¯ã€æ‰‹æœºå·ã€å¯†ç ã€å•†ä¸šæœºå¯†ç­‰ |
| åˆè§„æ£€æŸ¥ | `compliance` | è¡Œä¸šè§„èŒƒã€æ³•å¾‹æ³•è§„ã€å¼•ç”¨è§„èŒƒ |

**å…³é”®ä»£ç **: `app/services/check_service.py`

```python
async def _run_check(self, task_id, content, dimensions, ai_provider_name, custom_rules):
    # 1. è·å– AI æä¾›å•†
    ai_provider = get_ai_provider(ai_provider_name)
    
    # 2. é€ç»´åº¦è°ƒç”¨ AI åˆ†æ
    for dimension in dimensions:
        result = await ai_provider.analyze(content, dimension, custom_rules)
        results.append(result)
    
    # 3. ç”Ÿæˆæ•´ä½“æ€»ç»“
    summary = await ai_provider.generate_summary(content, results)
    
    # 4. è®¡ç®—ç»¼åˆå¾—åˆ†
    overall_score = sum(r.score for r in results) / len(results)
```

---

### 3ï¸âƒ£ AI æä¾›å•†é€‚é…å±‚

**æ–‡ä»¶**: `app/services/ai_providers.py`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BaseAIProvider (æŠ½è±¡åŸºç±»)                 â”‚
â”‚  - analyze(content, dimension) â†’ CheckResult                â”‚
â”‚  - generate_summary(content, results) â†’ str                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenAIProviderâ”‚   â”‚ClaudeProviderâ”‚   â”‚ QwenProvider â”‚
â”‚  GPT-4-turbo â”‚   â”‚   Claude-3   â”‚   â”‚   é€šä¹‰åƒé—®    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒåŸç†**: ä½¿ç”¨ç²¾å¿ƒè®¾è®¡çš„ **Prompt Engineering**ï¼Œè®© AI æŒ‰ç…§ç»“æ„åŒ–æ ¼å¼è¿”å›åˆ†æç»“æœã€‚

æ¯ä¸ªç»´åº¦æœ‰ä¸“å±çš„æ£€æµ‹æ¸…å• Promptï¼Œä¾‹å¦‚æ ¼å¼æ£€æµ‹:
```
## æ£€æŸ¥æ¸…å•
### 1. æ ‡é¢˜ä¸ç»“æ„
- æ ‡é¢˜å±‚çº§æ˜¯å¦æ¸…æ™°
- æ˜¯å¦å­˜åœ¨æ ‡é¢˜è·³çº§
...
## è¯„åˆ†æ ‡å‡†
- 90-100åˆ†ï¼šæ ¼å¼è§„èŒƒï¼Œæœ€å¤š1-2ä¸ªå°é—®é¢˜
- 75-89åˆ†ï¼šæœ‰ä¸€äº›æ ¼å¼é—®é¢˜...
```

---

### 4ï¸âƒ£ éœ€æ±‚åˆ†ææµç¨‹

**æ–‡ä»¶**: `app/services/requirement_analyzer.py`

```
ä¸Šä¼ éœ€æ±‚æ–‡æ¡£ â†’ è§£ææ–‡æœ¬ â†’ è°ƒç”¨AIè¿›è¡Œä¸šåŠ¡è§†è§’åˆ†æ â†’ è¿”å›ç»“æ„åŒ–ç»“æœ
```

**åˆ†æç»´åº¦**ï¼ˆä¸šåŠ¡ä¼˜å…ˆï¼‰:
1. **ä¸šåŠ¡æµç¨‹å®Œæ•´æ€§** - ç”¨æˆ·æ—…ç¨‹ã€ä¸šåŠ¡é—­ç¯ã€è§’è‰²è¦†ç›–ã€çŠ¶æ€æµè½¬
2. **ä¸šåŠ¡è§„åˆ™æ¸…æ™°åº¦** - æ ¸å¿ƒè§„åˆ™ã€é‡‘é¢è®¡ç®—ã€æ—¶é—´è§„åˆ™ã€æ•°é‡é™åˆ¶
3. **å¼‚å¸¸åœºæ™¯ä¸è¾¹ç•Œ** - ä¸šåŠ¡å¼‚å¸¸ã€æ“ä½œå†²çªã€æ•°æ®è¾¹ç•Œã€æ—¶é—´è¾¹ç•Œ
4. **ç”¨æˆ·ä½“éªŒè€ƒé‡** - æ“ä½œåé¦ˆã€é”™è¯¯å¼•å¯¼ã€æ’¤é”€å›é€€
5. **è¿è¥æ”¯æ’‘èƒ½åŠ›** - æ•°æ®ç»Ÿè®¡ã€äººå·¥å¹²é¢„ã€å®¢è¯‰å¤„ç†

**è¾“å‡ºç»“æ„**:
```json
{
  "total_requirements": 3,
  "requirements": [
    {
      "req_id": "REQ-001",
      "title": "ä¼šå‘˜ç§¯åˆ†å…‘æ¢åŠŸèƒ½",
      "issues": ["[ä¸šåŠ¡æµç¨‹æ–­ç‚¹] ç§¯åˆ†ä¸è¶³æ—¶çš„ç”¨æˆ·å¼•å¯¼ç¼ºå¤±", ...],
      "suggestions": ["è¡¥å……ç§¯åˆ†ä¸è¶³å¼•å¯¼ï¼šæ˜¾ç¤º'è¿˜å·®Xç§¯åˆ†'", ...]
    }
  ],
  "completeness_score": 55,
  "overall_score": 52,
  "summary": "..."
}
```

---

### 5ï¸âƒ£ æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆæµç¨‹

```
éœ€æ±‚æ–‡æ¡£ â†’ AIç†è§£éœ€æ±‚ â†’ ä¸ºæ¯ä¸ªåŠŸèƒ½ç”Ÿæˆ20-30ä¸ªæµ‹è¯•ç”¨ä¾‹ â†’ ç»“æ„åŒ–è¾“å‡º â†’ æŒä¹…åŒ–å­˜å‚¨
```

**ç”Ÿæˆçš„ç”¨ä¾‹ç±»å‹**:

| ç±»å‹åˆ†ç±» | ç±»å‹æ ‡è¯† | è¯´æ˜ | ç”¨ä¾‹æ•° |
|---------|---------|------|-------|
| **åŠŸèƒ½æµ‹è¯•** | functional | æ­£å‘åœºæ™¯ã€å¤šè§’è‰²ã€å¤šä¸šåŠ¡åœºæ™¯ | 5+ |
| **å¼‚å¸¸æµ‹è¯•** | exception | å¿…å¡«æ ¡éªŒã€æ ¼å¼é”™è¯¯ã€ä¸šåŠ¡å¼‚å¸¸ã€ç½‘ç»œå¼‚å¸¸ | 6+ |
| **è¾¹ç•Œæµ‹è¯•** | boundary | æœ€å°å€¼ã€æœ€å¤§å€¼ã€è¾¹ç•Œå€¼Â±1ã€ç‰¹æ®Šå­—ç¬¦ | 5+ |
| **å®‰å…¨æµ‹è¯•** | sql_injection, xss, csrf, auth, permission | SQLæ³¨å…¥ã€XSSã€CSRFã€è®¤è¯æˆæƒã€è¶Šæƒ | 6+ |
| **å…¼å®¹æ€§æµ‹è¯•** | browser_compat, mobile_compat, resolution_compat | æµè§ˆå™¨ã€ç§»åŠ¨ç«¯ã€åˆ†è¾¨ç‡å…¼å®¹ | 4+ |
| **æ¥å£æµ‹è¯•** | api_contract, api_security, api_performance | å¥‘çº¦ã€å®‰å…¨ã€æ€§èƒ½ | 5+ |
| **UIæµ‹è¯•** | ui_interaction, ui_responsive, ui_accessibility | äº¤äº’ã€å“åº”å¼ã€æ— éšœç¢ | 4+ |
| **æ€§èƒ½æµ‹è¯•** | load, stress, concurrent | è´Ÿè½½ã€å‹åŠ›ã€å¹¶å‘ | 4+ |
| **æ•°æ®æµ‹è¯•** | data, database | ä¸€è‡´æ€§ã€å®Œæ•´æ€§ã€å›æ»šã€éš”ç¦» | 4+ |
| **ä¸šåŠ¡æµç¨‹** | integration | å®Œæ•´æµç¨‹ã€ä¸­æ–­æ¢å¤ã€é€†å‘æµç¨‹ | 3+ |

**æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨**: `app/services/test_data_generator.py`
- ä½¿ç”¨ **Faker** åº“ç”ŸæˆçœŸå®æ„Ÿæ•°æ®
- æ”¯æŒä¸­æ–‡å§“åã€æ‰‹æœºå·ã€èº«ä»½è¯ã€åœ°å€ç­‰
- å†…ç½®è¾¹ç•Œå€¼ç”Ÿæˆå™¨ï¼ˆç©ºå€¼ã€è¶…é•¿ã€SQLæ³¨å…¥payloadã€XSS payloadç­‰ï¼‰

---

## ğŸ“Š æ•°æ®æ¨¡å‹å…³ç³»

```
DocumentInfo (æ–‡æ¡£ä¿¡æ¯)
    â”‚
    â”œâ”€â”€ CheckRequest â†’ TaskResponse â†’ CheckResult[] â†’ Issue[]
    â”‚                                    â”‚
    â”‚                                    â””â”€â”€ dimension, score, summary, issues
    â”‚
    â”œâ”€â”€ RequirementAnalysisResult â†’ RequirementItem[]
    â”‚   â”‚                               â”‚
    â”‚   â”‚                               â””â”€â”€ req_id, title, issues, suggestions
    â”‚   â”‚
    â”‚   â””â”€â”€ æŒä¹…åŒ–åˆ° â†’ requirement_analysis è¡¨ + requirement_items è¡¨
    â”‚
    â””â”€â”€ TestCaseGenerationResult â†’ TestCase[] â†’ TestStep[]
        â”‚                              â”‚
        â”‚                              â””â”€â”€ case_id, title, priority, steps, test_data
        â”‚
        â””â”€â”€ æŒä¹…åŒ–åˆ° â†’ testcase_generation è¡¨ + test_cases è¡¨
```

---

## ğŸ’¾ æ•°æ®å­˜å‚¨å±‚

**æ–‡ä»¶**: `app/services/data_storage.py`

### æ•°æ®åº“ç»“æ„

ä½¿ç”¨ **SQLite** æŒä¹…åŒ–å­˜å‚¨åˆ†æç»“æœï¼Œæ•°æ®åº“æ–‡ä»¶ä½äº `data/analysis_results.db`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    requirement_analysis è¡¨                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id | document_id | document_name | analysis_time | total_requirements |
â”‚ completeness_score | scenario_coverage_score | description_quality_score |
â”‚ testability_score | overall_score | summary | improvement_suggestions |
â”‚ ai_provider | raw_result                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 1:N
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    requirement_items è¡¨                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id | analysis_id | req_id | title | description | priority |    â”‚
â”‚ issues | suggestions                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    testcase_generation è¡¨                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id | document_id | document_name | generation_time | total_cases |
â”‚ coverage_summary | ai_provider | raw_result                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 1:N
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      test_cases è¡¨                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id | generation_id | case_id | requirement_id | title | priority |
â”‚ case_type | precondition | steps | test_data | tags              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å­˜å‚¨æœåŠ¡åŠŸèƒ½

| æ–¹æ³• | åŠŸèƒ½ |
|-----|------|
| `save_requirement_analysis()` | ä¿å­˜éœ€æ±‚åˆ†æç»“æœ |
| `save_testcase_generation()` | ä¿å­˜æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆç»“æœ |
| `get_analysis_history()` | è·å–éœ€æ±‚åˆ†æå†å²è®°å½• |
| `get_analysis_detail()` | è·å–éœ€æ±‚åˆ†æè¯¦æƒ… |
| `get_testcase_history()` | è·å–æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå†å² |
| `get_testcase_detail()` | è·å–æµ‹è¯•ç”¨ä¾‹è¯¦æƒ… |
| `get_statistics()` | è·å–ç»Ÿè®¡ä¿¡æ¯ |

---

## ğŸ”§ é…ç½®ä¸ç¯å¢ƒå˜é‡

**æ–‡ä»¶**: `app/config.py`

| é…ç½®é¡¹ | ä½œç”¨ |
|-------|------|
| `DEFAULT_AI_PROVIDER` | é»˜è®¤AIæä¾›å•† (openai/anthropic/qwen) |
| `OPENAI_API_KEY` | OpenAI APIå¯†é’¥ |
| `QWEN_API_KEY` | é€šä¹‰åƒé—®APIå¯†é’¥ |
| `ANTHROPIC_API_KEY` | Claude APIå¯†é’¥ |

---

## ğŸš€ æŠ€æœ¯æ ˆ

| å±‚é¢ | æŠ€æœ¯ |
|-----|------|
| Webæ¡†æ¶ | FastAPI (å¼‚æ­¥) |
| æ–‡æ¡£è§£æ | PyPDF2, python-docx, openpyxl, python-pptx |
| AIé›†æˆ | OpenAI SDK (å…¼å®¹å¤šå®¶AI) |
| æµ‹è¯•æ•°æ® | Faker |
| æ•°æ®éªŒè¯ | Pydantic |
| å¼‚æ­¥å¤„ç† | asyncio |

---

## ğŸ“ API æ¥å£æ¦‚è§ˆ

### æ–‡æ¡£ç®¡ç†
- `POST /api/v1/documents/upload` - ä¸Šä¼ æ–‡æ¡£
- `GET /api/v1/documents/{id}` - è·å–æ–‡æ¡£ä¿¡æ¯
- `GET /api/v1/documents/` - åˆ—å‡ºæ‰€æœ‰æ–‡æ¡£
- `DELETE /api/v1/documents/{id}` - åˆ é™¤æ–‡æ¡£

### æ–‡æ¡£æ£€æµ‹
- `POST /api/v1/check/start` - å¯åŠ¨æ£€æµ‹ä»»åŠ¡
- `GET /api/v1/check/{task_id}` - æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
- `GET /api/v1/check/{task_id}/wait` - ç­‰å¾…ä»»åŠ¡å®Œæˆ

### æŠ¥å‘Šç”Ÿæˆ
- `GET /api/v1/reports/{task_id}/html` - è·å–HTMLæŠ¥å‘Š
- `GET /api/v1/reports/{task_id}/markdown` - è·å–MarkdownæŠ¥å‘Š
- `GET /api/v1/reports/{task_id}/json` - è·å–JSONæŠ¥å‘Š

### éœ€æ±‚åˆ†æ
- `POST /api/v1/requirements/analyze` - åˆ†æéœ€æ±‚æ–‡æ¡£ï¼ˆç»“æœè‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“ï¼‰
- `GET /api/v1/requirements/analyze/export` - å¯¼å‡ºåˆ†æç»“æœ
- `POST /api/v1/requirements/generate-testcases` - ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼ˆç»“æœè‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“ï¼‰
- `GET /api/v1/requirements/generate-testcases/export` - å¯¼å‡ºæµ‹è¯•ç”¨ä¾‹

### å†å²è®°å½•ä¸ç»Ÿè®¡
- `GET /api/v1/requirements/history/analysis` - è·å–éœ€æ±‚åˆ†æå†å²åˆ—è¡¨
- `GET /api/v1/requirements/history/analysis/{id}` - è·å–éœ€æ±‚åˆ†æè¯¦æƒ…
- `GET /api/v1/requirements/history/testcases` - è·å–æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå†å²åˆ—è¡¨
- `GET /api/v1/requirements/history/testcases/{id}` - è·å–æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆè¯¦æƒ…
- `GET /api/v1/requirements/statistics` - è·å–ç»Ÿè®¡ä¿¡æ¯ï¼ˆåˆ†ææ¬¡æ•°ã€ç”¨ä¾‹æ•°é‡ã€å¹³å‡åˆ†ç­‰ï¼‰

---

## ğŸ“ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**AIé©±åŠ¨çš„æ–‡æ¡£æ™ºèƒ½åˆ†æå¹³å°**ï¼Œæ ¸å¿ƒåŸç†æ˜¯:

1. **æ–‡æ¡£è§£æ** - å°†å¤šç§æ ¼å¼æ–‡æ¡£è½¬æ¢ä¸ºçº¯æ–‡æœ¬
2. **Prompt Engineering** - ä½¿ç”¨ç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯å¼•å¯¼AIè¿›è¡Œç»“æ„åŒ–åˆ†æ
3. **å¤šç»´åº¦æ£€æµ‹** - ä»æ ¼å¼ã€å†…å®¹ã€é€»è¾‘ç­‰å¤šä¸ªè§’åº¦åˆ†ææ–‡æ¡£
4. **å¼‚æ­¥å¤„ç†** - ä½¿ç”¨asyncioå¤„ç†è€—æ—¶çš„AIè°ƒç”¨ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
5. **ç»Ÿä¸€AIæ¥å£** - é€‚é…å¤šå®¶AIæä¾›å•†ï¼Œçµæ´»åˆ‡æ¢

**æ ¸å¿ƒä»·å€¼**: å°†AIçš„è‡ªç„¶è¯­è¨€ç†è§£èƒ½åŠ›ä¸ç»“æ„åŒ–çš„æ£€æµ‹æ¡†æ¶ç»“åˆï¼Œå®ç°è‡ªåŠ¨åŒ–çš„æ–‡æ¡£è´¨é‡æ£€æµ‹ã€éœ€æ±‚åˆ†æå’Œæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆã€‚
